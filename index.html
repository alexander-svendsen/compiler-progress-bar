<!DOCTYPE html>
<html lang="en">
<head>
  <title>Compilling...</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Asap', sans-serif;
      color: #ffff;
      background: #000;
      font-size: 2.5em;
      line-height: 1.3em;
    }

    #title{
      margin: auto;
      width: 420px;
      padding-top: 15rem;
    }

    #progressContainer{
      margin: auto;
      padding-top: 8rem;
      width: 75%;
    }

    #myProgress {
      width: 100%;
      background-color: #000;
      border-radius: 1rem;
      border: solid #fff;
    }

    #myBar {
      width: 0%;
      height: 80px;
      background-color: #fff;
      border-radius: 10px 0 0 10px;
    }

    @media (max-width: 500px){
     #title {
            font-size: 3rem;
            width: 250px;
        }

    }

  </style>
  <link href="https://fonts.googleapis.com/css?family=Asap&display=swap" rel="stylesheet">
</head>
<body>
  <noscript>
      You need to enable JavaScript to run this app. ¯\_(ツ)_/¯
  </noscript>


  <h1 id="title">Compiling...</h1>
  <div id="progressContainer">
    <div id="myProgress"/>
    <div id="myBar"/>
  </div>


<script type="text/javascript">
  function move() {
    const urlParams = new URLSearchParams(window.location.search);
    const myParam = urlParams.get('speed');

    var elem = document.getElementById("myBar");
    var width = 1;
    var id = setInterval(frame, myParam == undefined ? 50 : myParam);
    function frame() {
      if (width >= 100) {
        width = 1;
      } else {
        width = width + 0.05;
        elem.style.width = width + '%';
      }
    }
  }

  function blink() {
    var elem = document.getElementById("title");
    var dot = true;
    var id = setInterval(blinking, 1000);
    function blinking() {
      if (dot == true) {
        dot = false;
        elem.innerHTML = "Compiling..."
      } else {
        dot = true;
        elem.innerHTML = "Compiling.."
      }
    }
  }

  document.addEventListener("DOMContentLoaded", function() {
    move();
    blink();
  });
</script>
</body>
</html>
